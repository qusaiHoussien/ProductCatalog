@page "/counter/{CategoryId}"
@inject HttpClient http
<PageTitle>Products</PageTitle>
<h1></h1>
<div class="row ">

    @foreach (var item in products)
    {
        
          <div class="col">
            <br>
    <div class="card" style="width: 25rem;">
      <img src="https://mdbcdn.b-cdn.net/img/new/standard/city/042.webp" class="card-img-top"
        alt="Hollywood Sign on The Hill" />
      <div class="card-body">
        <h5 class="card-title">@item.Name</h5>
        <p class="card-text">
            @item.Description
        </p>
        <a href="#" class="btn btn-primary">More Information</a>
      </div>
    </div>
      </div>
    }

</div>
@code {
    private List<Product> products ;
    [Parameter]
    public int CategoryId {get; set;}=1;
    protected override async Task OnInitializedAsync() => 
    products = await http.GetFromJsonAsync<List<Product>>("api/Product/"+CategoryId);
}
